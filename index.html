<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
	@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap');
	body {
		margin: 0;
		background: black;
		font-family: "Nunito Sans", sans-serif;
		color: white;
		user-select: none;
	}
	img {
		width: 100px;
	}
	#bg {
		width: 100%;
		height: 100%;
		position: fixed;
		filter: blur(2px);
	}
	#logo {
		width: 50%;
		aspect-ratio: 1;
		position: fixed;
		top: 50%;
		transform: translate(0%, -50%);
	}
	#buttons {
		position: fixed;
		right: 20%;
		top: 50%;
		transform: translate(0%, -50%);
		width: min-content;
	}
	#buttons button {
		margin-left: 50%;
		transform: translate(-50%, 0%);
		margin-bottom: 7px;
		margin-top: 7px;
		background: linear-gradient(#c72, #830);
		border: 1px solid black;
		font-size: 2.5vw;
	}
	button {
		border-radius: 30px;
		padding-left: 20px;
		padding-right: 20px;
		padding-top: 5px;
		padding-bottom: 5px;
		font-weight: 700;
		background: linear-gradient(#77f, #33a);
		color: white;
		border: none;
		cursor: pointer;
		text-shadow: 0px 2px 3px black;
		font-family: "Nunito Sans", sans-serif;
	}
	button:active {
		filter: brightness(70%);
		-webkit-tap-highlight-color: transparent;
  		-webkit-tap-highlight-color: rgba(0,0,0,0);
	}
	#fullscreener {
		position: fixed;
		z-index: 10;
		width: 100%;
		height: 100%;
		background: #113;
		text-align: center;
	}
	#fullscreener div {
		width: 50%;
		position: fixed;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
	}
	#fullscreener button {
		filter: contrast(30%);
	}
	#frame2 {
		left: 100%;
		z-index: 2;
		width: 100%
		height: 100%;
		position: fixed;
		transition: left 0.7s;
	}
	#frame2 .genbg {
		width: 100%;
		height: 100%;
		position: fixed;
		background-size: cover;
		background-position: center;
	}
	#levelDiv {
		position: fixed;
		top: 50%;
		left: 50%;
		text-align: center;
		background: red;
		font-weight: 900;
		border-radius: 10px;
		transform: translate(-50%, -50%);
		text-shadow: 3px 3px brown;
  		background: linear-gradient(rgb(88,52,0), rgb(38,23,0));
  		padding: 10px;
  		padding-top: 10px;
  		opacity: 0;
  		transition: opacity 0.5s, transform 0.5s, top 0.5s, padding-top 0.5s;
  		transition-delay: 0.7s;
	}
	#levelDiv p {
		opacity: 0;
  		transition: opacity 0.3s;
	}
	#levelDiv p:nth-child(1){
		font-size: 7vh;
		margin: 0;
  		transition-delay: 1s;
	}
	#levelDiv p:nth-child(2){
		font-size: 17vh;
		margin: 0;
  		transition-delay: 1.4s;
	}
	#goal {
		font-size: 5vh;
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%) scale(115%);
		opacity: 0;
		transition: opacity 0.3s;
		font-weight: 600;
		text-shadow: 1px 1px 2px black;
		transition-delay: 3s;
	}
</style>
<body>
	<img id="bg" src="images/bg1.jpg">
	<img id="logo" src="images/logo.png">
	<div id="buttons">
		<button id="playButton">PLAY</button>
		<button>SHOP</button>
		<button>ALBUM</button>
		<button>SIMULATOR</button>
	</div>
	<div id="fullscreener">
		<div>
		<p>Loading all assets...</p>
		<button disabled>Set Fullscreen</button>
		</div>
	</div>

	<div id="frame2">
		<img class="genbg" src="images/bg2.jpg">
		<div id="levelDiv">
			<p>LEVEL</p>
			<p>1</p>
		</div>
		<p id="goal">
			GOAL<br>
				- Make up to $50
		</p>
	</div>

	<audio id="musicIntro" src="audios/intro.mp3" type="audio/mpeg" loop></audio>
	<audio id="musicDuring" src="audios/during.mp3" type="audio/mpeg" loop></audio>
</body>
<script>
	document.querySelector("#musicIntro").volume = 0.4;
	fullscreener = document.querySelector("#fullscreener")
	fullscreener.querySelector("button").onclick = function(){
		fullscreener.querySelector("button").style.filter = "brightness(70%)"
		document.body.requestFullscreen();
		document.querySelector("#musicIntro").play()
	}

	playButton = document.querySelector("#playButton");
	playButton.onclick = function(){
		document.querySelector("#frame2").style.left = "0%";
		const levelDiv = document.querySelector("#levelDiv");
		levelDiv.style.display = "block";
		levelDiv.style.opacity = "1";
		levelDiv.children[0].style.opacity = "1";
		levelDiv.children[1].style.opacity = "1";
		setTimeout(function(){
			levelDiv.style.transform = "translate(-50%, -50%) scale(50%)";
			levelDiv.style.top = "20%";
		}, 1500)
		setTimeout(function(){
			levelDiv.style.transform = "translate(-50%, -50%) scale(30%)";
			levelDiv.style.top = "3%";
			levelDiv.style.paddingTop = "70px"
		}, 5000)
		document.querySelector("#goal").style.opacity = "1";
		document.querySelector("#musicIntro").pause();
		document.querySelector("#musicDuring").volume = 0.2;
		document.querySelector("#musicDuring").play();
	}

	window.onload = function(){
		verifyScreen()
	}

	function verifyScreen(){
		if (window.orientation === 0 || window.orientation === 180) {
			fullscreener.style.display = "block"
		    fullscreener.querySelector("p").innerHTML = "Please rotate your phone to landscape mode for a better experience."
			fullscreener.querySelector("button").disabled = true;
			fullscreener.querySelector("button").style.filter = "contrast(30%)";
			document.querySelector("#musicIntro").pause()
		} else {
			fullscreener.querySelector("button").disabled = false;
			fullscreener.querySelector("button").style.filter = "none";
			if (document.fullscreenElement) {
				fullscreener.style.display = "none"
				document.querySelector("#musicIntro").play()
			} else {  
				fullscreener.querySelector("p").innerHTML = "Set the view to fullscreen to play and for a better experience."
				fullscreener.style.display = "block"
			}
		}
	}

	document.addEventListener("fullscreenchange", () => {
		verifyScreen()
	});
	window.addEventListener("orientationchange", () => {
	  	verifyScreen()
	});
</script>
